

# ğŸ§± Apex é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§è¯¦è§£

> â€”â€” ä»¥ã€Œç”Ÿæ´»ä¸–ç•Œã€ç±»æ¯”ã€Œä»£ç ä¸–ç•Œã€

---

## ğŸ§© ä¸€ã€å°è£…ï¼ˆEncapsulationï¼‰

### ğŸ’¬ æ¯”å–»ï¼š

æƒ³è±¡ä¸€ä¸ªã€Œè‡ªåŠ¨å’–å•¡æœºã€ã€‚
ä½ åªéœ€è¦æŒ‰æŒ‰é’®ï¼ˆæ¥å£ï¼‰ï¼Œæœºå™¨å°±å¸®ä½ ç£¨è±†ã€åŠ æ°´ã€åŠ çƒ­ã€å‡ºå’–å•¡ã€‚
ä½†ä½ **ä¸èƒ½ç›´æ¥ç¢°**æœºå™¨å†…éƒ¨çš„æ³µæˆ–åŠ çƒ­å™¨ã€‚

ğŸ‘‰ è¿™å°±æ˜¯â€œå°è£…â€ï¼š
**éšè—å†…éƒ¨ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ä¾›å¤–éƒ¨ä½¿ç”¨ã€‚**

---

### ğŸ§  æ¦‚å¿µè§£é‡Šï¼š

| å…³é”®è¯       | è¯´æ˜                                      |
| --------- | --------------------------------------- |
| **éšè—æ•°æ®**  | ç±»çš„å†…éƒ¨ç»†èŠ‚ä¸å¯¹å¤–å…¬å¼€                             |
| **è®¿é—®ä¿®é¥°ç¬¦** | æ§åˆ¶å¤–éƒ¨èƒ½ä¸èƒ½çœ‹åˆ°æŸä¸ªå˜é‡æˆ–æ–¹æ³•ï¼ˆå¦‚ `private`, `public`ï¼‰ |
| **å®‰å…¨è®¿é—®**  | é€šè¿‡ getter/setter æ–¹æ³•æˆ–å±æ€§æ§åˆ¶è®¿é—®æ–¹å¼            |

---

### âœ… ä»£ç ç¤ºä¾‹ï¼š

```apex
public class BankAccount {
    // ğŸ”’ å°è£…çš„æ ¸å¿ƒï¼šä¸è®©å¤–éƒ¨ç›´æ¥è®¿é—®ä½™é¢
    private Decimal balance;

    // âœ… æä¾›å®‰å…¨çš„å¯¹å¤–æ–¹æ³•
    public void deposit(Decimal amount) {
        if (amount > 0) {
            balance += amount;
        } else {
            System.debug('âŒ å­˜æ¬¾é‡‘é¢æ— æ•ˆ');
        }
    }

    public void withdraw(Decimal amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
        } else {
            System.debug('âŒ å–æ¬¾å¤±è´¥');
        }
    }

    // âœ… æä¾›åªè¯»è®¿é—®ä½™é¢çš„æ–¹æ³•
    public Decimal getBalance() {
        return balance;
    }
}
```

### ğŸ”¹ è°ƒç”¨ï¼š

```apex
BankAccount acc = new BankAccount();
acc.deposit(1000);
acc.withdraw(300);
System.debug('è´¦æˆ·ä½™é¢: ' + acc.getBalance()); // è¾“å‡º 700
```

> ğŸ’¡ å¤–éƒ¨ä¸èƒ½ç›´æ¥ä¿®æ”¹ `balance`ï¼Œåªèƒ½é€šè¿‡å®‰å…¨æ–¹æ³•æ“ä½œï¼Œè¿™å°±æ˜¯â€œå°è£…â€ã€‚

---

### âš™ï¸ å¯¹åº”ç°å®ï¼š

| ç°å®ä¸–ç•Œ    | Apexä¸–ç•Œ         |
| ------- | -------------- |
| å’–å•¡æœºå†…éƒ¨ç»“æ„ | ç±»çš„æˆå‘˜å˜é‡         |
| æŒ‰é’®ã€æ˜¾ç¤ºå±  | å¯¹å¤–æš´éœ²çš„æ–¹æ³•        |
| ä½¿ç”¨è¯´æ˜ä¹¦   | å°è£…çš„æ¥å£ï¼ˆget/setï¼‰ |

---

## ğŸ§© äºŒã€ç»§æ‰¿ï¼ˆInheritanceï¼‰

### ğŸ’¬ æ¯”å–»ï¼š

æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªã€Œäº¤é€šå·¥å…·ã€çš„æ¦‚å¿µ ğŸš—ğŸš²âœˆï¸
æ±½è½¦ã€è‡ªè¡Œè½¦ã€é£æœº éƒ½æ˜¯äº¤é€šå·¥å…·çš„ä¸€ç§ã€‚
å®ƒä»¬éƒ½æœ‰â€œå¯åŠ¨â€ã€â€œåœæ­¢â€ç­‰å…±æ€§ï¼Œä½†ç»†èŠ‚ä¸åŒã€‚

ğŸ‘‰ åœ¨ Apex ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®©â€œå­ç±»â€ç»§æ‰¿â€œçˆ¶ç±»â€çš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨é‡å¤å†™ä»£ç ã€‚

---

### ğŸ§  æ¦‚å¿µè§£é‡Šï¼š

| å…³é”®è¯               | è¯´æ˜             |
| ----------------- | -------------- |
| **çˆ¶ç±»ï¼ˆåŸºç±»ï¼‰**        | æä¾›é€šç”¨çš„å±æ€§å’Œæ–¹æ³•     |
| **å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰**       | ç»§æ‰¿çˆ¶ç±»ï¼Œå¹¶å¯æ·»åŠ è‡ªå·±çš„ç‰¹æ€§ |
| **å…³é”®å­— `extends`** | ç”¨äºå®šä¹‰ç»§æ‰¿å…³ç³»       |

---

### âœ… ä»£ç ç¤ºä¾‹ï¼š

```apex
// ğŸš— çˆ¶ç±»
public virtual class Vehicle {
    public void start() {
        System.debug('ğŸš— äº¤é€šå·¥å…·å¼€å§‹è¿è¡Œ');
    }

    public void stop() {
        System.debug('ğŸ›‘ äº¤é€šå·¥å…·åœæ­¢');
    }
}

// ğŸš™ å­ç±»
public class Car extends Vehicle {
    public void honk() {
        System.debug('ğŸ“£ æ±½è½¦é¸£ç¬›');
    }
}
```

### ğŸ”¹ è°ƒç”¨ï¼š

```apex
Car myCar = new Car();
myCar.start(); // âœ… ç»§æ‰¿è‡ªçˆ¶ç±»
myCar.honk();  // âœ… è‡ªå·±çš„åŠŸèƒ½
myCar.stop();  // âœ… ç»§æ‰¿è‡ªçˆ¶ç±»
```

---

### âš™ï¸ å¯¹åº”ç°å®ï¼š

| ç°å®ä¸–ç•Œ                 | Apexä¸–ç•Œ  |
| -------------------- | ------- |
| â€œäº¤é€šå·¥å…·â€æ˜¯å¤§ç±»            | çˆ¶ç±»      |
| â€œæ±½è½¦â€ã€â€œé£æœºâ€ã€â€œè‡ªè¡Œè½¦â€æ˜¯å…·ä½“å®ç° | å­ç±»      |
| éƒ½èƒ½â€œå¯åŠ¨â€å’Œâ€œåœæ­¢â€          | ç»§æ‰¿çš„å…±æ€§æ–¹æ³• |

---

### ğŸ’¡ å°ç»“ï¼š

> ç»§æ‰¿è®©æˆ‘ä»¬**å¤ç”¨ä»£ç **ï¼Œè®©ç³»ç»Ÿæ›´åƒä¸€ä¸ªçœŸå®çš„â€œå±‚çº§ç»“æ„â€ã€‚
> æ¯”å¦‚ä½ å†™ä¸€ä¸ªé€šç”¨çš„ `sendNotification()`ï¼Œ
> æ‰€æœ‰ä¸åŒç±»å‹çš„é€šçŸ¥ç±»éƒ½èƒ½ç»§æ‰¿å¹¶æ‰©å±•ã€‚

---

## ğŸ§© ä¸‰ã€å¤šæ€ï¼ˆPolymorphismï¼‰

### ğŸ’¬ æ¯”å–»ï¼š

â€œå¼€äº¤é€šå·¥å…·â€ğŸš—
ä½ åªçŸ¥é“â€œè¿™æ˜¯ä¸ªäº¤é€šå·¥å…·â€ï¼Œä½†å®ƒå¯èƒ½æ˜¯è½¦ã€è‡ªè¡Œè½¦æˆ–é£æœºã€‚
å½“ä½ æŒ‰â€œå¯åŠ¨â€æŒ‰é’®ï¼Œä¸åŒçš„äº¤é€šå·¥å…·ä¼šè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚

ğŸ‘‰ è¿™å°±æ˜¯â€œå¤šæ€â€ï¼š
**åŒä¸€ä¸ªæ¥å£ï¼Œä¸åŒå¯¹è±¡å¯ä»¥æœ‰ä¸åŒè¡¨ç°ã€‚**

---

### ğŸ§  æ¦‚å¿µè§£é‡Šï¼š

| å…³é”®è¯                | è¯´æ˜                    |
| ------------------ | --------------------- |
| **ç›¸åŒæ–¹æ³•ï¼Œä¸åŒè¡Œä¸º**      | å­ç±»å¯é‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆæ–¹æ³•åç›¸åŒã€é€»è¾‘ä¸åŒï¼‰ |
| **å…³é”®å­— `override`** | åœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»æ–¹æ³•            |
| **å¤šæ€è°ƒç”¨**           | é€šè¿‡çˆ¶ç±»å¼•ç”¨è°ƒç”¨å­ç±»å¯¹è±¡çš„æ–¹æ³•       |

---

### âœ… ä»£ç ç¤ºä¾‹ï¼š

```apex
public virtual class Vehicle {
    public virtual void start() {
        System.debug('ğŸš— äº¤é€šå·¥å…·å¯åŠ¨');
    }
}

public class Car extends Vehicle {
    public override void start() {
        System.debug('ğŸš™ æ±½è½¦å¼•æ“å¯åŠ¨');
    }
}

public class Bicycle extends Vehicle {
    public override void start() {
        System.debug('ğŸš´ è‡ªè¡Œè½¦è¸©è¸æ¿å¯åŠ¨');
    }
}
```

### ğŸ”¹ è°ƒç”¨ï¼š

```apex
Vehicle v1 = new Car();
Vehicle v2 = new Bicycle();

v1.start(); // è¾“å‡ºï¼šğŸš™ æ±½è½¦å¼•æ“å¯åŠ¨
v2.start(); // è¾“å‡ºï¼šğŸš´ è‡ªè¡Œè½¦è¸©è¸æ¿å¯åŠ¨
```

> ğŸ’¡ è™½ç„¶ `v1` å’Œ `v2` éƒ½æ˜¯ `Vehicle` ç±»å‹ï¼Œä½†å®ƒä»¬å®é™…è¿è¡Œçš„æ˜¯å„è‡ªå­ç±»çš„æ–¹æ³•ï¼Œè¿™å°±æ˜¯ **å¤šæ€**ã€‚

---

### âš™ï¸ å¯¹åº”ç°å®ï¼š

| ç°å®ä¸–ç•Œ                | Apexä¸–ç•Œ                        |
| ------------------- | ----------------------------- |
| â€œæ‰“å¼€â€ç”µå™¨ï¼šç”µè§†ã€ç©ºè°ƒã€é£æ‰‡ååº”ä¸åŒ | â€œè°ƒç”¨ start()â€ï¼šCarã€Bicycle å®ç°ä¸åŒ |
| ä¸€æ ·çš„åŠ¨ä½œï¼Œä¸ä¸€æ ·çš„ååº”        | ä¸€æ ·çš„æ–¹æ³•ï¼Œä¸ä¸€æ ·çš„é€»è¾‘                  |

---

## ğŸ§© å››ã€ä¸‰è€…å…³ç³»æ€»ç»“

| ç‰¹æ€§ | å…³é”®è¯                          | ä½œç”¨             | æ¯”å–»            |
| -- | ---------------------------- | -------------- | ------------- |
| å°è£… | private / public / get / set | éšè—å†…éƒ¨æ•°æ®ï¼Œåªæä¾›å®‰å…¨æ¥å£ | å’–å•¡æœºæŒ‰é’®         |
| ç»§æ‰¿ | extends                      | å¤ç”¨çˆ¶ç±»åŠŸèƒ½         | â€œæ±½è½¦â€ç»§æ‰¿â€œäº¤é€šå·¥å…·â€  |
| å¤šæ€ | override                     | åŒæ¥å£å¤šè¡Œä¸º         | ä¸åŒäº¤é€šå·¥å…·çš„â€œå¯åŠ¨â€ååº” |

---

## ğŸ§© äº”ã€ç»¼åˆç¤ºä¾‹ ğŸŒŸ

```apex
// ğŸš— çˆ¶ç±»ï¼šäº¤é€šå·¥å…·
public virtual class Vehicle {
    private String brand;

    public Vehicle(String brandName) {
        brand = brandName;
    }

    public virtual void start() {
        System.debug(brand + ' å¯åŠ¨');
    }

    public void stop() {
        System.debug(brand + ' åœæ­¢');
    }
}

// ğŸš™ å­ç±»1ï¼šæ±½è½¦
public class Car extends Vehicle {
    public Car(String brandName) {
        super(brandName);
    }
    public override void start() {
        System.debug('ğŸš— æ±½è½¦å¼•æ“å¯åŠ¨');
    }
}

// ğŸš´ å­ç±»2ï¼šè‡ªè¡Œè½¦
public class Bicycle extends Vehicle {
    public Bicycle(String brandName) {
        super(brandName);
    }
    public override void start() {
        System.debug('ğŸš´ è‡ªè¡Œè½¦ç”¨è„šå¯åŠ¨');
    }
}
```

### ğŸ”¹ è°ƒç”¨ç¤ºä¾‹ï¼š

```apex
List<Vehicle> vehicles = new List<Vehicle>{
    new Car('Toyota'),
    new Bicycle('Giant')
};

for (Vehicle v : vehicles) {
    v.start(); // æ¯ä¸ªå¯¹è±¡æŒ‰è‡ªå·±çš„æ–¹å¼å¯åŠ¨ï¼ˆå¤šæ€ï¼‰
}
```

ğŸ§  è¾“å‡ºï¼š

```
ğŸš— æ±½è½¦å¼•æ“å¯åŠ¨
ğŸš´ è‡ªè¡Œè½¦ç”¨è„šå¯åŠ¨
```

---

## ğŸ§© å…­ã€æ€»ç»“è¡¨æ ¼ ğŸ§­

| ç‰¹æ€§ | Apexå…³é”®å­—                            | å®ç°æ–¹å¼       | ç¤ºä¾‹                                  |
| -- | ---------------------------------- | ---------- | ----------------------------------- |
| å°è£… | `private`, `public`, `{get; set;}` | éšè—å†…éƒ¨å˜é‡     | `private Decimal balance;`          |
| ç»§æ‰¿ | `extends`, `virtual`, `override`   | å¤ç”¨çˆ¶ç±»é€»è¾‘     | `class Car extends Vehicle`         |
| å¤šæ€ | `virtual`, `override`              | çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ | `Vehicle v = new Car(); v.start();` |

---

## ğŸ’¡ æœ€åä¸€å¥è¯æ€»ç»“ï¼š

> * **å°è£…** è®©ä»£ç æ›´å®‰å…¨ã€‚
> * **ç»§æ‰¿** è®©ä»£ç æ›´ç®€æ´ã€‚
> * **å¤šæ€** è®©ä»£ç æ›´çµæ´»ã€‚

å°±åƒç°å®ä¸–ç•Œä¸€æ ·ï¼š

> å’–å•¡æœºï¼ˆå°è£…ï¼‰èƒ½å®‰å…¨å·¥ä½œï¼Œ
> ä¸åŒå‹å·çš„æœºå™¨ï¼ˆç»§æ‰¿ï¼‰èƒ½å…±äº«ç»“æ„ï¼Œ
> æŒ‰ä¸‹â€œå¯åŠ¨â€ï¼ˆå¤šæ€ï¼‰åå„è‡ªè¡¨ç°ä¸åŒã€‚

