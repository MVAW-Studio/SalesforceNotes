# ğŸ§± ä¸€ã€ä»€ä¹ˆæ˜¯ç±»ï¼ˆClassï¼‰ï¼Ÿ

ğŸ‘‰ **æ¯”å–»ï¼šç±»å°±åƒä¸€å¼ è“å›¾æˆ–æ¨¡å…·ã€‚**

æ¯”å¦‚ä½ è¦é€ æ±½è½¦ï¼š

* è“å›¾ä¸Šå†™ç€â€œé¢œè‰²â€â€œé€Ÿåº¦â€è¿™äº›å±æ€§ã€‚
* ä¹Ÿç”»ç€â€œå¯åŠ¨â€â€œåˆ¹è½¦â€è¿™äº›åŠŸèƒ½ã€‚

è¿™å¼ è“å›¾å°±æ˜¯ **ç±»ï¼ˆclassï¼‰**ã€‚
æ ¹æ®è¿™å¼ è“å›¾é€ å‡ºçš„å…·ä½“æ±½è½¦ï¼Œå°±æ˜¯ **å¯¹è±¡ï¼ˆobjectï¼‰**ã€‚

---

# ğŸš— äºŒã€æ™®é€šç±»çš„åŸºæœ¬æ„æˆ

Apex é‡Œçš„ç±»ç”±å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š

```apex
// ğŸ”¹ è®¿é—®ä¿®é¥°ç¬¦ + å…³é”®å­— + ç±»å
public class Car {
    
    // ğŸ”¸ æˆå‘˜å˜é‡ï¼ˆå¯¹è±¡å±æ€§ï¼‰
    public String color;    // æ¯è¾†è½¦éƒ½æœ‰è‡ªå·±çš„é¢œè‰²
    public Integer speed;   // æ¯è¾†è½¦çš„é€Ÿåº¦ä¸åŒ
    
    // ğŸ”¸ é™æ€å˜é‡ï¼ˆæ‰€æœ‰è½¦å…±äº«ï¼‰
    public static Integer wheelCount = 4; // æ‰€æœ‰è½¦é»˜è®¤4ä¸ªè½®å­
    
    // ğŸ”¸ æ„é€ æ–¹æ³•ï¼ˆé€ è½¦æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œï¼‰
    public Car(String color, Integer speed) {
        // ä½¿ç”¨ this è¡¨ç¤ºå½“å‰å¯¹è±¡
        this.color = color;
        this.speed = speed;
    }
    
    // ğŸ”¸ æ™®é€šæ–¹æ³•ï¼ˆè½¦çš„è¡Œä¸ºï¼‰
    public void drive() {
        System.debug('The ' + color + ' car is driving at ' + speed + ' km/h.');
    }
    
    // ğŸ”¸ é™æ€æ–¹æ³•ï¼ˆæ‰€æœ‰è½¦å…±äº«çš„è¡Œä¸ºï¼‰
    public static void showWheelCount() {
        System.debug('All cars have ' + wheelCount + ' wheels.');
    }
}
```

---

# ğŸ§­ ä¸‰ã€è®¿é—®ä¿®é¥°ç¬¦ï¼ˆAccess Modifiersï¼‰

ğŸ‘‰ **æ¯”å–»ï¼šé—¨é”çš„æƒé™ã€‚**

| ä¿®é¥°ç¬¦         | å«ä¹‰                    | æ¯”å–»   |
| ----------- | --------------------- | ---- |
| `public`    | å¯¹æ‰€æœ‰äººå¼€æ”¾                | å¤§é—¨æ•å¼€ |
| `private`   | åªé™ç±»å†…éƒ¨ä½¿ç”¨               | ç§äººæˆ¿é—´ |
| `protected` | æœ¬ç±»å’Œå­ç±»èƒ½ç”¨               | å®¶æ—æˆå‘˜ |
| `global`    | åœ¨ Salesforce æ•´ä¸ªå¹³å°éƒ½èƒ½è®¿é—® | ä¸–ç•Œé€šç”¨ |

---

# ğŸª™ å››ã€å…³é”®å­—ï¼ˆKeywordsï¼‰

å…³é”®å­—æ˜¯ Apex çš„â€œä¸“ç”¨è¯â€ï¼Œå®ƒä»¬å‘Šè¯‰ç³»ç»Ÿè¿™æ®µä»£ç åœ¨å¹²ä»€ä¹ˆã€‚

| å…³é”®å­—      | å«ä¹‰            | æ¯”å–»            |
| -------- | ------------- | ------------- |
| `class`  | å®šä¹‰ä¸€ä¸ªç±»         | ç”»è“å›¾           |
| `static` | å±äºæ•´ä¸ªç±»ï¼Œè€Œä¸æ˜¯æŸä¸ªå¯¹è±¡ | æ‰€æœ‰æ±½è½¦çš„â€œå“ç‰Œlogoâ€ |
| `final`  | ä¸èƒ½ä¿®æ”¹          | ä¸å¯æ”¹å˜çš„è§„åˆ™       |
| `return` | æ–¹æ³•è¿”å›ç»“æœ        | æŠŠè®¡ç®—ç»“æœäº¤å‡ºå»      |
| `this`   | å½“å‰å¯¹è±¡è‡ªèº«        | â€œè¿™è¾†è½¦è‡ªå·±â€       |

---

# ğŸ§° äº”ã€å˜é‡ï¼ˆVariablesï¼‰

å˜é‡æ˜¯ç”¨æ¥â€œå­˜å‚¨æ•°æ®â€çš„å®¹å™¨ï¼Œå°±åƒâ€œå‚¨ç‰©æŸœâ€ã€‚

## 1ï¸âƒ£ æˆå‘˜å˜é‡ï¼ˆMember Variableï¼‰

å†™åœ¨ç±»ä¸­ï¼Œç”¨æ¥æè¿°å¯¹è±¡å±æ€§ï¼š

```apex
public class Car {
    public String color;   // æˆå‘˜å˜é‡ï¼šè½¦çš„é¢œè‰²
    public Integer speed;  // æˆå‘˜å˜é‡ï¼šè½¦çš„é€Ÿåº¦
}
```

ğŸ“¦ æ¯è¾†è½¦éƒ½æœ‰è‡ªå·±çš„é¢œè‰²å’Œé€Ÿåº¦ã€‚

---

## 2ï¸âƒ£ å±€éƒ¨å˜é‡ï¼ˆLocal Variableï¼‰

å†™åœ¨æ–¹æ³•ä¸­ï¼Œåªåœ¨æ–¹æ³•æ‰§è¡Œæ—¶å­˜åœ¨ï¼š

```apex
public void drive() {
    Integer distance = 100;  // å±€éƒ¨å˜é‡ï¼šåªåœ¨drive()ä¸­ä½¿ç”¨
    System.debug('Driving for ' + distance + ' km');
}
```

ğŸ“ å°±åƒâ€œä¸´æ—¶ä¾¿æ¡â€ï¼Œæ–¹æ³•æ‰§è¡Œå®Œå°±æ¶ˆå¤±ã€‚

---

# ğŸ”¢ å…­ã€å˜é‡ç±»å‹ï¼ˆVariable Typesï¼‰

å˜é‡æ ¹æ®å­˜å‚¨å†…å®¹çš„ä¸åŒåˆ†ä¸ºä¸‰ç§ï¼š

---

### ï¼ˆ1ï¼‰åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆPrimitive Typesï¼‰

æœ€å¸¸è§çš„ç±»å‹ï¼šæ•°å­—ã€æ–‡å­—ã€çœŸå‡ç­‰ã€‚

| ç±»å‹         | ç¤ºä¾‹                   | å«ä¹‰            |
| ---------- | -------------------- | ------------- |
| `Integer`  | 10                   | æ•´æ•°            |
| `Decimal`  | 10.5                 | å°æ•°            |
| `Boolean`  | true/false           | å¼€å…³çŠ¶æ€          |
| `String`   | 'Red'                | æ–‡å­—            |
| `Date`     | Date.today()         | æ—¥æœŸ            |
| `Datetime` | Datetime.now()       | æ—¥æœŸ+æ—¶é—´         |
| `Id`       | '001xx000003DHP3AAO' | Salesforce ID |

---

### ï¼ˆ2ï¼‰å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆReference Typesï¼‰

æ˜¯æŒ‡å‘å¯¹è±¡çš„å˜é‡ï¼ˆå°±åƒè½¦é’¥åŒ™æŒ‡å‘é‚£è¾†è½¦ï¼‰ã€‚

```apex
Car myCar = new Car('Blue', 120); // myCaræŒ‡å‘é‚£è¾†è“è½¦
```

`myCar` å¹¶ä¸æ˜¯è½¦æœ¬èº«ï¼Œè€Œæ˜¯â€œæŒ‡é’ˆâ€æˆ–â€œé’¥åŒ™â€ã€‚

---

### ï¼ˆ3ï¼‰SObject ç±»å‹ï¼ˆSalesforce ç‰¹æœ‰ï¼‰

Salesforce é‡Œçš„æ ‡å‡†æˆ–è‡ªå®šä¹‰å¯¹è±¡ï¼Œæ¯”å¦‚ `Account`ã€`Contact` ç­‰ã€‚

```apex
Account acc = new Account(Name = 'Tesla', Industry = 'Automobile');
insert acc; // ä¿å­˜åˆ°æ•°æ®åº“
```

ğŸ“Š å¯ä»¥ç†è§£ä¸ºç³»ç»Ÿé‡Œçš„â€œæ•°æ®è®°å½•â€ã€‚

---

# âš™ï¸ ä¸ƒã€é™æ€å˜é‡ vs æ™®é€šå˜é‡

| ç±»å‹   | å±äºè°    | ç”¨æ³•               | æ¯”å–»        |
| ---- | ------ | ---------------- | --------- |
| æ™®é€šå˜é‡ | å±äºæ¯ä¸ªå¯¹è±¡ | `myCar.color`    | æ¯è¾†è½¦æœ‰è‡ªå·±çš„é¢œè‰² |
| é™æ€å˜é‡ | å±äºæ•´ä¸ªç±»  | `Car.wheelCount` | æ‰€æœ‰è½¦å…±æœ‰çš„è½®æ•°  |

```apex
Car.wheelCount = 6; // æ‰€æœ‰è½¦çš„è½®å­éƒ½æ”¹æˆ6ä¸ª
```

---

# ğŸ§© å…«ã€æ–¹æ³•ï¼ˆMethodsï¼‰

æ–¹æ³• = åŠŸèƒ½æŒ‰é’®ã€‚
æ¯”å¦‚æ±½è½¦çš„â€œå¯åŠ¨â€â€œåˆ¹è½¦â€â€œé¸£ç¬›â€ã€‚

---

## æ–¹æ³•çš„åŸºæœ¬ç»“æ„ï¼š

```apex
[è®¿é—®ä¿®é¥°ç¬¦] [è¿”å›ç±»å‹] æ–¹æ³•å(å‚æ•°) {
    // æ–¹æ³•ä½“
}
```

### ä¾‹å­ï¼š

```apex
public Integer addSpeed(Integer value) {
    speed += value;              // å°†è¾“å…¥å€¼åŠ åˆ°å½“å‰é€Ÿåº¦ä¸Š
    return speed;                // è¿”å›æ–°çš„é€Ÿåº¦
}
```

| å…ƒç´     | å«ä¹‰          | ç¤ºä¾‹                        |
| ----- | ----------- | ------------------------- |
| è®¿é—®ä¿®é¥°ç¬¦ | è°èƒ½ç”¨         | `public`                  |
| è¿”å›ç±»å‹  | æ–¹æ³•è¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ® | `Integer`                 |
| æ–¹æ³•å   | åŠŸèƒ½å         | `addSpeed`                |
| å‚æ•°    | è¾“å…¥å†…å®¹        | `(Integer value)`         |
| æ–¹æ³•ä½“   | å…·ä½“åŠŸèƒ½        | `{ speed += value; ... }` |

---

## æ–¹æ³•ç±»å‹ï¼š

| ç±»å‹   | å±äºè°  | è°ƒç”¨æ–¹å¼                    | ç¤ºä¾‹      |
| ---- | ---- | ----------------------- | ------- |
| æ™®é€šæ–¹æ³• | å±äºå¯¹è±¡ | `myCar.drive();`        | æ¯è¾†è½¦èƒ½è‡ªå·±å¼€ |
| é™æ€æ–¹æ³• | å±äºç±»  | `Car.showWheelCount();` | ç±»çš„å…±ç”¨åŠŸèƒ½  |

---

# ğŸ’¡ ä¹ã€å˜é‡ä¸æ–¹æ³•ç»“åˆçš„ä¾‹å­

```apex
public class Student {
    public String name;
    public Integer score;
    
    public Student(String n, Integer s) {
        name = n;
        score = s;
    }
    
    // æé«˜åˆ†æ•°
    public void addScore(Integer value) {
        score += value;
        System.debug(name + ' gained ' + value + ' points, now has ' + score);
    }
    
    // è¿”å›æ˜¯å¦åŠæ ¼
    public Boolean isPassed() {
        return score >= 60;
    }
}
```

```apex
Student tom = new Student('Tom', 55);
tom.addScore(10); // Tom gained 10 points, now has 65
System.debug(tom.isPassed()); // true
```

---

# ğŸª£ åã€é›†åˆï¼ˆCollectionsï¼‰

ğŸ‘‰ **æ¯”å–»ï¼šèƒ½è£…å¤šä¸ªä¸œè¥¿çš„å®¹å™¨ã€‚**

Apex æœ‰ä¸‰ç§ä¸»è¦é›†åˆï¼š

* `List`ï¼šæœ‰é¡ºåºã€å¯é‡å¤ï¼ˆåƒæ’é˜Ÿåå•ï¼‰
* `Set`ï¼šæ— é¡ºåºã€ä¸é‡å¤ï¼ˆåƒä¼šå‘˜åå†Œï¼‰
* `Map`ï¼šé”®å€¼å¯¹ç»“æ„ï¼ˆåƒè¯å…¸ï¼‰

---

## 1ï¸âƒ£ Listï¼ˆåˆ—è¡¨ï¼‰

```apex
List<String> colors = new List<String>{'Red', 'Blue', 'Green'};

// æ·»åŠ å…ƒç´ 
colors.add('Yellow');

// è·å–å…ƒç´ ï¼ˆæŒ‰é¡ºåºï¼‰
System.debug(colors[0]); // Red

// è·å–é•¿åº¦
System.debug(colors.size()); // 4
```

ğŸ“ **ç‰¹ç‚¹ï¼š**

* æœ‰é¡ºåº
* å¯é‡å¤
* ç”¨ç´¢å¼•è®¿é—®ï¼ˆç¬¬ä¸€ä¸ªæ˜¯0ï¼‰

ğŸ“˜ **å¸¸ç”¨æ–¹æ³•ï¼š**

| æ–¹æ³•              | è¯´æ˜        |
| --------------- | --------- |
| `add(value)`    | æ·»åŠ å…ƒç´       |
| `remove(index)` | åˆ é™¤æŸä¸ªä½ç½®çš„å…ƒç´  |
| `size()`        | è¿”å›å…ƒç´ æ•°é‡    |
| `isEmpty()`     | æ˜¯å¦ä¸ºç©º      |
| `clear()`       | æ¸…ç©ºåˆ—è¡¨      |

---

## 2ï¸âƒ£ Setï¼ˆé›†åˆï¼‰

```apex
Set<String> fruits = new Set<String>{'Apple', 'Banana', 'Apple'};
System.debug(fruits); // {'Apple', 'Banana'}ï¼Œè‡ªåŠ¨å»é‡

fruits.add('Orange');
fruits.remove('Banana');
```

ğŸ“ **ç‰¹ç‚¹ï¼š**

* æ— é¡ºåº
* å…ƒç´ å”¯ä¸€ï¼ˆè‡ªåŠ¨å»é‡ï¼‰

ğŸ“˜ **å¸¸ç”¨æ–¹æ³•ï¼š**

| æ–¹æ³•                | è¯´æ˜     |
| ----------------- | ------ |
| `add(value)`      | æ·»åŠ å…ƒç´    |
| `contains(value)` | åˆ¤æ–­æ˜¯å¦å­˜åœ¨ |
| `remove(value)`   | åˆ é™¤å…ƒç´    |
| `size()`          | å…ƒç´ æ•°é‡   |
| `clear()`         | æ¸…ç©ºé›†åˆ   |

---

## 3ï¸âƒ£ Mapï¼ˆæ˜ å°„ï¼‰

```apex
Map<String, Integer> ageMap = new Map<String, Integer>();
ageMap.put('Tom', 20);
ageMap.put('Lucy', 25);

// å–å€¼
System.debug(ageMap.get('Tom')); // 20

// éå†
for(String name : ageMap.keySet()) {
    System.debug(name + ' is ' + ageMap.get(name) + ' years old.');
}
```

ğŸ“ **ç‰¹ç‚¹ï¼š**

* é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰æˆå¯¹å‡ºç°
* é€šè¿‡keyè®¿é—®value

ğŸ“˜ **å¸¸ç”¨æ–¹æ³•ï¼š**

| æ–¹æ³•                 | è¯´æ˜       |
| ------------------ | -------- |
| `put(key, value)`  | æ·»åŠ é”®å€¼å¯¹    |
| `get(key)`         | å–å€¼       |
| `containsKey(key)` | åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯¥é”® |
| `remove(key)`      | åˆ é™¤æŸé¡¹     |
| `keySet()`         | æ‰€æœ‰é”®é›†åˆ    |
| `values()`         | æ‰€æœ‰å€¼é›†åˆ    |
| `size()`           | é”®å€¼å¯¹æ•°é‡    |

---

# ğŸ§¬ åä¸€ã€æ³›å‹ï¼ˆGenericsï¼‰

ğŸ‘‰ **æ¯”å–»ï¼šå¯å®šåˆ¶çš„å®¹å™¨æ¨¡å…·ã€‚**

`List<String>` è¡¨ç¤ºä¸€ä¸ªâ€œè£…æ–‡å­—â€çš„è¢‹å­ï¼Œ
`List<Integer>` åˆ™æ˜¯â€œè£…æ•°å­—â€çš„è¢‹å­ã€‚

```apex
List<Account> accList = new List<Account>();
Set<Id> accountIds = new Set<Id>();
Map<Id, Account> accMap = new Map<Id, Account>();
```

è¿™æ ·å¯ä»¥è®©é›†åˆæ›´å®‰å…¨ï¼Œé˜²æ­¢æ”¾é”™ç±»å‹ã€‚

---

# ğŸ§© åäºŒã€å®Œæ•´ä¾‹å­ï¼ˆä¸²è”æ‰€æœ‰çŸ¥è¯†ï¼‰

```apex
public class School {
    
    // ğŸ”¸ æˆå‘˜å˜é‡ï¼ˆæ¯ä¸ªå­¦æ ¡ä¸åŒï¼‰
    public String name;
    public List<Student> students;
    
    // ğŸ”¸ é™æ€å˜é‡ï¼ˆæ‰€æœ‰å­¦æ ¡å…±äº«ï¼‰
    public static String country = 'Japan';
    
    // ğŸ”¸ æ„é€ æ–¹æ³•
    public School(String name) {
        this.name = name;
        this.students = new List<Student>();
    }
    
    // ğŸ”¸ æ·»åŠ å­¦ç”Ÿï¼ˆä½¿ç”¨Listï¼‰
    public void addStudent(Student s) {
        students.add(s);
        System.debug(s.name + ' joined ' + name);
    }
    
    // ğŸ”¸ è·å–å¹³å‡åˆ†
    public Decimal getAverageScore() {
        Decimal total = 0;
        for(Student s : students) {
            total += s.score;
        }
        return total / students.size();
    }
    
    // ğŸ”¸ é™æ€æ–¹æ³•
    public static void showCountry() {
        System.debug('All schools are in ' + country);
    }
}

public class Student {
    public String name;
    public Integer score;
    
    public Student(String n, Integer s) {
        name = n;
        score = s;
    }
}
```

```apex
// æµ‹è¯•
School sch = new School('Tokyo High');
Student a = new Student('Aiko', 90);
Student b = new Student('Taro', 80);
sch.addStudent(a);
sch.addStudent(b);

System.debug('Average score: ' + sch.getAverageScore()); // 85
School.showCountry(); // All schools are in Japan
```

---

# ğŸ¯ æ€»ç»“å›¾

| æ¦‚å¿µ   | æ¯”å–»     | ç¤ºä¾‹                          |
| ---- | ------ | --------------------------- |
| ç±»    | è“å›¾     | `class Car`                 |
| å¯¹è±¡   | å®é™…ç‰©å“   | `new Car()`                 |
| æˆå‘˜å˜é‡ | å±æ€§     | `String color`              |
| å±€éƒ¨å˜é‡ | ä¸´æ—¶ç¬”è®°   | `Integer temp`              |
| é™æ€å˜é‡ | æ‰€æœ‰å¯¹è±¡å…±äº« | `static Integer wheelCount` |
| æ–¹æ³•   | åŠŸèƒ½æŒ‰é’®   | `drive()`                   |
| é›†åˆ   | å®¹å™¨     | `List`, `Set`, `Map`        |
| æ³›å‹   | æ¨¡å…·æ¨¡æ¿   | `List<String>`              |

